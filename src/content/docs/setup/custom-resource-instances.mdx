---
title: "Custom Resource Instance Classes"
description: "Configure your Common Fate deployment with more powerful AWS Resources."
---



## Set RDS Compute CPU and Memory
See AWS official documentation for the different RDS instance class types [here](https://aws.amazon.com/rds/instance-types/)

Upgrading or downgrading an RDS instance class will result in a downtime of around 20 minutes.

### Upgrade with downtime

First start by turning on maintenance mode by adding the following to your deployment terraform module:

```diff
module "common-fate-deployment" {
  source                = "common-fate/common-fate-deployment/aws"
  ... other parameters

+  maintenance_mode_enabled = true

}

```
`terraform apply` that change. This will create a new load balancer rule to not allow any traffic to the application during the maintenance period.

Once the application is in maintenance mode, you'll know this by checking the console and seeing that it is returning "Common Fate is currently down for maintenance. You can get in touch with us at support@yourcomapny.io.".

Make a snapshot of the RDS instance. You can do this from the console in the actions dropdown. Select the correct DB instance and give the snapshot a memorable name like "snapshot-for-instance-upgrade".

Update the Terraform module again to update the `rds_instance_type`

```diff
module "common-fate-deployment" {
  source                = "common-fate/common-fate-deployment/aws"
  ... other parameters

+  rds_instance_type = "db.t3.large"

}

```
`terraform apply` that change and it will begin upgrading the instance type.
